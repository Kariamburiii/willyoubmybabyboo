<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="style.css" />
    <title>Will you be my babyboo?</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Aldrich&family=Pixelify+Sans:wght@400..700&display=swap" rel="stylesheet" />
    
    <style>
      /* Smooth resizing for buttons */
      .btn {
        transition: transform 0.2s ease-in-out;
      }

      /* Heart Animation Styles */
      .heart-fall {
        position: fixed;
        top: -5vh;
        user-select: none;
        pointer-events: none;
        z-index: 9999;
        animation: fall linear forwards;
      }
      @keyframes fall {
        to { transform: translateY(105vh) rotate(360deg); }
      }
    </style>
  </head>
  <body>
    
    <!-- Envelope Screen -->
    <div id="envelope-container">
      <img src="envelope.png" alt="Envelope" id="envelope" />
      <p>â™¡ Open me! â™¡</p>
    </div>

    <!-- Letter Screen -->
    <div id="letter-container">
      <div class="letter-window">
        <h1 id="letter-title">Will you be my babyboo?</h1>
        <img src="cat_heart.gif" class="cat" id="letter-cat" />
        
        <div class="buttons" id="letter-buttons">
          <img src="yes.png" class="btn yes-btn" alt="Yes" id="yesButton" onclick="celebrate()" style="cursor: pointer;" />
          
          <div class="no-wrapper">
            <!-- Added onclick here to trigger the resize function -->
            <img src="no.png" class="btn no-btn" id="noButton" alt="No" onclick="handleNoClick()" style="cursor: pointer;" />
          </div>
        </div>

        <p id="final-text" class="final-text" style="display: none">
          <strong>Valentine date:</strong> Saturday, 14th February, 2026 at 7pm EST.
        </p>
      </div>
    </div>

    <!-- Hidden YouTube Audio Player -->
    <div style="display:none;">
        <iframe id="valentine-music" width="0" height="0" 
            src="https://www.youtube.com/embed/0m0veq3bo-s?si=2nk4qtPNWsoS8d5z" 
            allow="autoplay">
        </iframe>
    </div>

    <script src="script.js"></script>
    <script>
      // Tracking sizes
      let yesScale = 1;
      let noScale = 1;

      // Function for when "No" is clicked
      function handleNoClick() {
        yesScale += 0.3; // Grows by 30%
        noScale -= 0.1;  // Shrinks by 10%
        
        if (noScale < 0.3) noScale = 0.3; // Prevents "No" from vanishing

        document.getElementById('yesButton').style.transform = `scale(${yesScale})`;
        document.getElementById('noButton').style.transform = `scale(${noScale})`;
        
        // If your script.js has a move function, it will still work alongside this!
      }

      function celebrate() {
        var iframe = document.getElementById('valentine-music');
        iframe.src += "&autoplay=1";
        startHearts();
        document.getElementById('final-text').style.display = "block";
        document.getElementById('letter-buttons').style.display = "none";
      }

      function startHearts() {
        const heartEmojis = ['â¤ï¸', 'ðŸ’–', 'ðŸ’', 'ðŸ’•', 'ðŸ’—'];
        setInterval(() => {
          const heart = document.createElement('div');
          heart.classList.add('heart-fall');
          heart.innerText = heartEmojis[Math.floor(Math.random() * heartEmojis.length)];
          heart.style.left = Math.random() * 100 + "vw";
          heart.style.fontSize = Math.random() * 20 + 20 + "px";
          const duration = Math.random() * 2 + 3;
          heart.style.animationDuration = duration + "s";
          document.body.appendChild(heart);
          setTimeout(() => { heart.remove(); }, 5000);
        }, 300);
      }
    </script>
  </body>
</html>
